<app-wholesaler-navbar></app-wholesaler-navbar>

<h1 class="title-config">My Orders</h1>

<mat-grid-list cols="2" rowHeight="2:1.5" >
  <mat-grid-tile class = "grid-config" *ngFor="let product of productsData;">
    <mat-accordion class="example-headers-align">
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{productsData.indexOf(product)}}
          </mat-panel-title>
          <mat-panel-description>
            Order data for the Wholesaler
            <mat-icon>account_circle</mat-icon>
          </mat-panel-description>

        </mat-expansion-panel-header>

        <h4 class="h4-config" *ngIf="retailSellerData[productsData.indexOf(product)]">
          Retail-Seller Username: {{retailSellerData[productsData.indexOf(product)].username}} </h4>
        <h4 class="h4-config" *ngIf="retailSellerData[productsData.indexOf(product)]">
          Retail-Seller Address: {{retailSellerData[productsData.indexOf(product)].address}}</h4>
      </mat-expansion-panel>

      <!-- Product Panel -->

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            Product Info
          </mat-panel-title>
          <mat-panel-description>
            Retail-Seller Product List
            <mat-icon>list</mat-icon>
          </mat-panel-description>
        </mat-expansion-panel-header>
        <h4 class="h4-config"> Product name: {{product.name}} </h4>
        <h4 class="h4-config"> Unit Price: $/.{{product.price}} </h4>
        <h4 class="h4-config"> Quantity: {{ordersData[productsData.indexOf(product)].quantity}} </h4>
        <h4 class="h4-config"> Total Price: $/.{{ordersData[productsData.indexOf(product)].quantity*product.price}} </h4>
      </mat-expansion-panel>
      <button  mat-raised-button color="warn" style="width:50%;" (click)="openRejectDialog(productsData.indexOf(product))"
      >Reject Order</button>
      <button  mat-raised-button color="primary" style="width: 50%;" (click)="openAcceptDialog(productsData.indexOf(product))"
      >Accept Order</button>
    </mat-accordion>

  </mat-grid-tile>


</mat-grid-list>
